# Aglink 開発計画

# たたき台作製までの計画

## 1. 開発環境の構築

### 1-1. Docker 環境のセットアップ

Docker を使い、チーム全員が同じ環境で開発できるようにします。

**メンバーに共有するファイル**

- **`Dockerfile`**: Node.js や必要なパッケージをインストールするコンテナの「設計図」です。
- **`docker-compose.yml`**: コンテナの設定や、ホスト PC とのフォルダ同期を定義するファイルです。

**開発開始コマンド**

1. PC に Docker Desktop がインストールされていることを確認します。
2. プロジェクトのルートディレクトリで以下のコマンドを実行します。

```
docker-compose up --build

```

> 注意点: 初回はビルドに時間がかかりますが、次回以降は docker-compose up だけで起動できます。

### 1-2. 理想的なフォルダ構成

プロジェクトの規模が大きくなっても管理しやすくなるよう、役割ごとにフォルダを分けます。

```
aglink/
├── .next/                  # 自動生成されるNext.jsのビルド成果物
├── pages/                  # Next.jsのページコンポーネント（非推奨）
├── app/                    # ページコンポーネント（App Router）
│   ├── (routes)/           # ページグループ（例: 診断、農地）
│   ├── page.tsx            # トップページ
│   ├── layout.tsx          # 共通レイアウト
│   └── globals.css         # グローバルCSS
├── components/             # 再利用可能なReactコンポーネント
│   ├── ui/                 # ボタンやカードなどの基本UI部品
│   ├── forms/              # フォーム関連コンポーネント
│   └── sections/           # ページを構成する大きな部品
├── public/                 # 公開アセット（画像、フォントなど）
├── hooks/                  # カスタムフック（再利用可能なロジック）
├── lib/                    # ユーティリティ関数やデータ取得ロジック
├── data/                   # APIレスポンスを模倣するモックデータ
│   └── mock-lands.json
├── styles/                 # 独自のCSSファイル
├── node_modules/           # 依存関係
├── package.json
├── tsconfig.json
└── tailwind.config.js

```

## 2. たたき台プロジェクトの作成

プログラミングに自信がないメンバーがすぐに取り組めるよう、静的な UI とモックデータを組み込んだプロジェクトを準備します。

### 2-1. 共通 UI コンポーネントの実装

まず、すべてのページで使われる UI 部品から作成します。

- `components/ui/Button.tsx`: **props に`interface`で型を定義**し、`label`や`onClick`を受け取って表示するボタンを実装します。
- `components/ui/Card.tsx`: **props に`interface`で型を定義**し、画像やタイトル、説明文を受け取って表示するカードを実装します。

### 2-2. モックデータの作成

`data/mock-lands.json`に、農地情報や診断結果のモックデータを作成します。これにより、バックエンドが未完成でもフロントエンド開発を進められます。

### 2-3. 静的ページの作成

**診断画面**: `app/page.tsx`に、共通 UI コンポーネントを使って質問やボタンを配置します。この段階では、まだ動的な機能は実装しません。

**農地一覧画面**: `app/lands/page.tsx`を作成し、`data/mock-lands.json`のモックデータを読み込んで、**`map`メソッド**でカードのリストを表示できるようにします。

## 3. 機能実装フェーズ（動的機能の追加）

たたき台プロジェクトをベースに、段階的に機能を実装します。

### 3-1. 農業スタイル診断機能

- **`useState`の活用**: 診断画面でユーザーの回答を`useState`で管理し、回答に応じて次の質問に進むロジックを実装します。

### 3-2. 動的なデータ表示

- **`map`と`filter`**: 農地一覧画面で、ユーザーの診断結果や検索条件に応じて、`filter`メソッドで表示する農地を絞り込み、`map`メソッドでリストを動的に更新します。

### 3-3. ブックマーク機能

- **`useState`の活用**: `Card.tsx`コンポーネントにブックマークボタンを追加し、ボタンが押されると`useState`で状態が切り替わるように実装します。

### **5. さらなる改善のために検討すべきこと（新規追加項目）**

既存の計画をさらに強固なものにするため、チームで以下の項目について話し合い、方針を決定することを推奨します。

- **5-1. 状態管理の方針決定**
  - **現状**: `useState`を活用し、コンポーネント内の状態を管理します 。
  - **検討事項**: ユーザーの診断結果など、複数のページやコンポーネントで共有したいデータが出てきた場合に備え、React 標準の**Context API**や、より手軽なライブラリである**Zustand**などの導入を検討します。これにより、コードの複雑化を防ぎます。
- **5-2. スタイリングの効率化**
  - **現状**: `globals.css`や`tailwind.config.js`を元にスタイリングを行います 。
  - **検討事項**: 開発速度をさらに向上させるため、Tailwind CSS をベースにした UI コンポーネントライブラリ**「shadcn/ui」**の導入を検討します。これにより、デザイン性とアクセシビリティが考慮された UI 部品を効率的に実装できます。
- **5-3. コード品質の自動化**
  - **現状**: 各自がコーディングを行います。
  - **検討事項**: チーム全体のコードの品質とスタイルを統一するため、以下のツール導入を検討します。
    - **ESLint**: コードの文法エラーや潜在的なバグを自動で検出します。
    - **Prettier**: コードのフォーマット（インデントや改行など）を自動で整形します。
    - **Husky**: Git へのコミット時に、上記ツールを自動実行させ、品質の低いコードの混入を未然に防ぎます。
- **5-4. Git ブランチ戦略の策定**
  - **現状**: バージョン管理に Git を利用します 。
  - **検討事項**: 複数人での開発をスムーズに進めるため、**「GitHub Flow」**などのブランチ戦略を定めます。例えば、「`main`ブランチは常に正常な状態を保ち、機能追加は必ず別のブランチ（例： `feature/diagnosis-page`）で行い、レビュー後に`main`に統合する」といったルールをチームで共有します。
