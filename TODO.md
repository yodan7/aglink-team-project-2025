# 🌾 Aglink MVP 開発 タスクリスト

このドキュメントは、Aglink の MVP（Minimum Viable Product）を完成させるためのタスクリストです。  
各タスクには担当者が割り振られています。自分の担当タスクを確認し、分からないことがあれば遠慮なく PM に相談してください。

## 📋 ブランチ戦略

`main` ブランチから、各自のタスク名のブランチ（例: `feature/create-ui-components`）を作成し、そこで作業を進めましょう。

---

## 🚀 フェーズ1：開発の土台作り

**期間**: 約1週間  
**目標**: 各自が独立して作業を進められるように、アプリの骨格と部品、そしてバックエンドの準備を整える

### タスク1-1: データベースの設計とセットアップ

- [ ] **完了**
- **担当**: バックエンドリード 兼 PM

**やること**:
- Supabase で新しいプロジェクトを作成
- プロジェクトに必要なテーブルを設計・作成（例: `farms`(農地), `profiles`(ユーザー情報), `bookmarks`(ブックマーク)など）
- Next.js から Supabase に接続するための設定を実装
  - `aglink/src/lib/supabase/client.ts`
  - `aglink/src/lib/supabase/server.ts`
- `aglink/.env.local` に必要な Supabase の API キーを記述
- `.env.example` ファイルを作成・共有

> 💡 **ポイント**: プロジェクト全体のデータ構造を決める重要なタスクです。ここが固まると、全員が同じデータ形式を元に開発を進められます。

### タスク1-2: 型定義とモックデータの作成

- [ ] **完了**
- **担当**: データスペシャリスト

**やること**:
- タスク1-1で設計されたテーブル構造を元に、TypeScript の型定義ファイルを作成
  - `aglink/src/types/index.ts`（例: `Farm`型, `Profile`型など）
- フロントエンドチーム向けの農地情報ダミーデータを作成
  - `aglink/src/data/mock-farms.json`

> 💡 **ポイント**: バックエンドの最初のステップとして最適です。フロントエンドチームが次に何を作るべきか、このデータがあることで明確になります。

### タスク1-3: 基本UIコンポーネントの作成

- [ ] **完了**
- **担当**: UI キット & レイアウト担当（フロントエンド1）

**やること**:
- アプリ全体で使われる、最小単位の UI 部品を作成（Figma のデザインを参考）
- 対象ファイル:
  - `aglink/src/components/ui/Button.tsx`
  - `aglink/src/components/ui/Card.tsx`
  - `aglink/src/components/ui/Spinner.tsx`

> 💡 **ポイント**: React コンポーネント作成の基本（Props の受け渡し、スタイリングなど）を学ぶのに最適なタスクです。

### タスク1-4: 共通レイアウトコンポーネントの作成

- [ ] **完了**
- **担当**: UI キット & レイアウト担当（フロントエンド1）

**やること**:
- 全てのページで共通して表示されるヘッダーとフッターを作成
- 対象ファイル:
  - `aglink/src/components/ui/Header.tsx`
  - `aglink/src/components/ui/Footer.tsx`
- 作成したコンポーネントをメイン機能の共通レイアウトに配置
  - `aglink/src/app/(main)/layout.tsx`

> 💡 **ポイント**: Next.js の `layout.tsx` の役割を理解するための重要なタスクです。

### タスク1-5: 認証フォームコンポーネントの作成

- [ ] **完了**
- **担当**: ユーザー機能 & データ表示担当（フロントエンド3）

**やること**:
- ログインとサインアップで共通して使える、メールアドレスとパスワード入力欄を持つフォームの「見た目」を作成
- 対象ファイル:
  - `aglink/src/components/domain/auth/AuthForm.tsx`

> 💡 **ポイント**: この段階では、まだ実際のログイン処理は実装しません。`input` や `button` を配置して、フォームのレイアウトを整えることに集中してください。

---

## 🎨 フェーズ2：静的な画面の組み立て

**期間**: 約1週間  
**目標**: フェーズ1で作成した部品とモックデータを使い、各ページの見た目を完成させる。この段階では、まだ動的な機能は実装しない。

### タスク2-1: 診断ページの静的実装

- [ ] **完了**
- **担当**: 診断機能担当（フロントエンド2）

**やること**:
- 診断の質問と選択肢ボタンを画面に表示
- 対象ファイル:
  - `aglink/src/app/(main)/diagnosis/page.tsx`
  - `aglink/src/components/domain/diagnosis/DiagnosisForm.tsx`

> 💡 **ポイント**: Button コンポーネントを再利用して、質問リストを画面に並べる練習です。

### タスク2-2: 診断結果・農地一覧ページの静的実装

- [ ] **完了**
- **担当**: 診断機能担当（フロントエンド2）

**やること**:
- バックエンド担当が作成したモックデータ（`mock-farms.json`）を読み込み
- `map` メソッドを使って、農地カードの一覧を画面に表示
- 対象ファイル:
  - `aglink/src/app/(main)/diagnosis/result/page.tsx`
  - `aglink/src/components/domain/farms/FarmList.tsx`

> 💡 **ポイント**: データを元に繰り返し要素を表示する、React の最も基本的なパターンを学べます。

### タスク2-3: 農地詳細ページの静的実装

- [ ] **完了**
- **担当**: ユーザー機能 & データ表示担当（フロントエンド3）

**やること**:
- 個別の農地の詳細情報を表示するページのレイアウトを作成
- 対象ファイル:
  - `aglink/src/app/(main)/farms/[id]/page.tsx`
  - `aglink/src/components/domain/farms/FarmDetail.tsx`

> 💡 **ポイント**: Next.js の動的ルーティング (`[id]`) の仕組みに触れる良い機会です。

### タスク2-4: 診断ロジックの実装

- [ ] **完了**
- **担当**: データスペシャリスト

**やること**:
- 設計書に基づき、ユーザーの回答（ポイント）から最終的な診断結果（例：「週末農業タイプ」）を算出する純粋な計算ロジック（関数）を実装
- 対象ファイル:
  - `aglink/src/lib/utils.ts` など

> 💡 **ポイント**: データベースに依存しない、純粋なプログラミングロジックの実装に集中できます。

---

## ⚡ フェーズ3：動的な機能の実装

**期間**: 約1〜2週間  
**目標**: 組み立てた画面に命を吹き込む。ユーザーの操作に応じて画面が変化したり、データベースと連携したりする機能を実装する。

### タスク3-1: 農業スタイル診断機能の実装

- [ ] **完了**
- **担当**: 診断機能担当（フロントエンド2）

**やること**:
- `DiagnosisForm.tsx` で、ユーザーの回答を `useState` を使って管理
- 回答に応じて次の質問に進むロジックを実装
- 最終的な回答が揃ったら、バックエンド担当が作成した診断ロジックを呼び出し、診断結果を算出

> 💡 **ポイント**: React の `useState` を使った状態管理の、実践的な第一歩です。

### タスク3-2: 認証機能のバックエンド実装

- [ ] **完了**
- **担当**: バックエンドリード 兼 PM

**やること**:
- Supabase Auth（認証機能）を使い、サインアップとログインの処理を実装
- Next.js の Server Actions として、これらの関数を定義
  - `aglink/src/lib/actions.ts`

> 💡 **ポイント**: セキュリティに関わる重要な部分です。Server Actions の仕組みをチームに共有する良い機会にもなります。

### タスク3-3: 認証機能のフロントエンド実装

- [ ] **完了**
- **担当**: ユーザー機能 & データ表示担当（フロントエンド3）

**やること**:
- `AuthForm.tsx` で、ユーザーが入力したメールアドレスとパスワードを `useState` で管理
- フォームが送信されたら、バックエンド担当が作成した Server Actions（ログイン/サインアップ関数）を呼び出し

> 💡 **ポイント**: フロントエンドとバックエンドが連携する最初のタスクです。

### タスク3-4: ブックマーク機能の実装

- [ ] **完了**
- **担当**: ユーザー機能 & データ表示担当（フロントエンド3） ＆ バックエンドリード 兼 PM

**やること**:
- **[バックエンド]** ブックマークの追加/削除を行う Server Actions を実装
  - `aglink/src/lib/actions.ts`
- **[フロントエンド]** `BookmarkButton.tsx` コンポーネントを作成し、クリックされたら上記の Server Actions を呼び出し

> 💡 **ポイント**: ペアプログラミングで進めるのに最適なタスクです。フロントとバックがどう連携するのかを、チーム全員で学ぶことができます。

### タスク3-5: データベースからのデータ表示

- [ ] **完了**
- **担当**: 全員

**やること**:
- これまでモックデータを使っていた各ページ（農地一覧、詳細など）を、Supabase から直接データを取得して表示するように書き換え
- サーバーコンポーネント内で、バックエンド担当が用意した Supabase クライアントを使ってデータを取得

> 💡 **ポイント**: アプリが「本物のデータ」で動き出す感動を共有できます！

---

## ✅ MVP完成の定義

以下の**全ての機能**が、モックデータではなく Supabase の本物のデータと連携して動作する状態：

| 機能 | 説明 | 状況 |
|------|------|------|
| 🔐 **ユーザー認証** | ユーザーが新規登録・ログインできる | ⭕ |
| 🔍 **農業スタイル診断** | ユーザーが農業スタイル診断を受けられる | ⭕ |
| 📋 **おすすめ農地表示** | 診断結果に基づいて、おすすめの農地一覧が表示される | ⭕ |
| ⭐ **ブックマーク機能** | 気に入った農地をブックマークできる | ⭕ |
| 👤 **マイページ** | ブックマークした農地の一覧をマイページで確認できる | ⭕ |

> 🎉 **全機能が完成したら MVP達成です！**
